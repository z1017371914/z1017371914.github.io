## 死锁

1.`死锁的四个条件`：

- `不剥夺原则`：资源被占有后不可被剥夺
- `请求并保持`：资源拥有者不主动释放资源，还申请其他的资源
- `资源互斥`：资源同一时间只能有一个拥有者
- `环路等待`：请求的资源与拥有者形成了环路

2.`破坏死锁`：

破坏四个条件之一：

- 破坏不剥夺原则：资源得不到满足就主动释放，实现困难，系统开销大
- 破坏请求与保持：资源预分配
- 破坏资源互斥：不可行
- 破坏环路等待：给资源标号，按顺序申请资源

3.`死锁的避免`：银行家算法

available矩阵 + max矩阵  + need矩阵 + allocation矩阵

4.`死锁的检测`：资源分配图

- 资源到进程的有向边表示分配了资源给进程
- 进程到资源的有向边称为请求边，表示进程请求此资源
- 有向图`可完全简化`，则没有死锁
- 如何简化：如果进程的请求边对应的资源中还有可用的，就称此进程释放。不断地释放，直到资源分配图中没有边，就是可完全简化

5.`死锁的解除`

- 资源剥夺：挂起某些进程，释放其资源
- 撤销进程：杀死死锁进程
- 进程回退法：回退到未出现死锁前