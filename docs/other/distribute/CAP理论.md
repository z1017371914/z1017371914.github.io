## CAP理论

1.CAP由三部分组成：

`Consistency`一致性。请求访问到不同的节点，获取一样的结果，虽是集群，却像单机的数据一样。

`Availability`可用性。可用性保证一定响应请求，但不保证数据的一致性！

`Partition Tolerance`分区容错性。某节点异常时，不影响整体对外提供服务。

2.CAP是一个`不可能三角`，无法实现三个特性都能得到满足。

当有网络分区时，就需要进行网络传输，这种情况下需要保证`P`.需要在`C`和`A`中抉择。

>`CP`:当消息丢失或延迟过高时，部分节点无法保证信息是最新的，从而系统拒绝进行写入信息，也就是拒绝提供对外服务，也就是不满足`A`
>
>`AP`:当有请求信息时，被选中的节点会交付它最新的信息，但不保证是全局的最新信息，也就是不满足`C`

以上的场景是故障出现时的取舍，但大部分情况下系统是正常运行的，所以一般是选择`CA`,只有节点故障时，才选择`P`,在`C`和`A`中取舍。

3.应用场景

`CA`：单机MySQL

`CP`：ETCD，Zookeeper

`AP`： Cassandra，DynamoDB